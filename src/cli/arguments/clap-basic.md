## Clap (derive style)

[![clap-badge]][clap] [![cat-command-line-badge]][cat-command-line]

This application describes the structure of its command-line interface using
`clap`'s Derive API. The [documentation] gives information on the Builder API
as well.

In the Derive API, a `struct` is declared which will contain the data
for all the command line options. The clap macros then create all the parsing,
validation logic and help for those options automatically. The `short`
and `long` options control the flag the user will be expected to type; short
flags look like `-c` and long flags look like `--count`.


```rust
{{#include examples/clap_basic.rs}}
```
An argument can be made optional by either providing a default value to `clap`
(as is the case for the `--count` option), or by declaring that argument to
be of the `Option<>` type, such as `Option<String>` as used with
`name`.  In that case, the `args.name` will be either `Some()` which
holds a `String` value, or `None`, so the `match` expression is used to
assign a default name if none was provided.

Usage information is generated by `clap` macro. The usage for the
example application looks like this.  Run on the command line:

```
cargo run --example clap_basic -- --help
```

The `--example` argument is used to select the `clap_basic` program
in the `examples` directory to be run. The `--` is needed to separate the
arguments passed to the `cargo run` command from the arguments passed to
`clap_basic` command.

```
arguments 0.1.0
Simple program to greet a person

USAGE:
    clap_basic [OPTIONS]

OPTIONS:
    -c, --count <COUNT>    Number of times to greet [default: 1]
    -h, --help             Print help information
    -n, --name <NAME>      Name of the person to greet
    -V, --version          Print version information
```

We can test the application by running a command like the following.

```
cargo run --example clap_basic -- --name Zoo -c 3
```

The output is:

```
Hello Zoo!
Hello Zoo!
Hello Zoo!
```

[documentation]: https://docs.rs/clap/latest/clap/
